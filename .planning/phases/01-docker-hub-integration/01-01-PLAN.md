---
phase: "01-docker-hub-integration"
plan: "01"
type: "execute"
wave: 1
depends_on: []
files_modified:
  - "src-tauri/Cargo.toml"
  - "src-tauri/src/lib.rs"
  - "package.json"
autonomous: true

must_haves:
  truths:
    - "Rust dependencies for Docker integration are configured"
    - "bollard can be imported and used in the project"
    - "tokio async runtime is configured for async commands"
  artifacts:
    - path: "src-tauri/Cargo.toml"
      provides: "Rust dependencies (bollard, tokio, reqwest)"
      contains: "bollard"
    - path: "src-tauri/src/lib.rs"
      provides: "Tauri app entry point with Docker module setup"
      contains: "docker module"
  key_links:
    - from: "src-tauri/Cargo.toml"
      to: "src-tauri/src/lib.rs"
      via: "module import"
      pattern: "mod docker"
---

<objective>
Set up Rust dependencies for Docker Hub integration. Configure bollard, tokio, and reqwest for Docker API communication.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@src-tauri/Cargo.toml
@src-tauri/src/lib.rs

# From research summary:
# - Use bollard 0.20.x for Docker API
# - Use tokio for async runtime
# - Use reqwest for HTTP calls to Docker Hub API
</context>

<tasks>

<task type="auto">
  <name>Add Rust dependencies for Docker integration</name>
  <files>src-tauri/Cargo.toml</files>
  <action>
Add the following dependencies to Cargo.toml:
- bollard = "0.20" (Docker API client)
- tokio = { version = "1", features = ["full"] } (async runtime)
- reqwest = { version = "0.12", features = ["json"] } (HTTP client for Docker Hub API)
- futures = "0.3" (stream utilities for pull progress)
- tauri-plugin-opener (already exists, keep)

Use exact versions from research: bollard 0.20.x, not latest.
  </action>
  <verify>
cargo check --manifest-path src-tauri/Cargo.toml compiles without errors
  </verify>
  <done>Cargo.toml contains bollard, tokio, reqwest, futures dependencies</done>
</task>

<task type="auto">
  <name>Create Docker module structure</name>
  <files>src-tauri/src/lib.rs</files>
  <action>
Create the Docker module structure in src-tauri/src/:

1. Create src-tauri/src/docker/mod.rs - exports hub and client modules
2. Create src-tauri/src/docker/hub.rs - Docker Hub API client (empty for now)
3. Create src-tauri/src/docker/client.rs - Docker daemon client (empty for now)

Then update lib.rs to include:
```rust
pub mod docker;

#[cfg_attr(mobile, tauri::mobile_entry_point)]
pub fn run() {
    tauri::Builder::default()
        .plugin(tauri_plugin_opener::init())
        .invoke_handler(tauri::generate_handler![greet])
        .run(tauri::generate_context!())
        .expect("error while running tauri application");
}
```

Keep existing greet command for now.
  </action>
  <verify>
cargo check --manifest-path src-tauri/Cargo.toml compiles without errors
  </verify>
  <done>Docker module structure exists with hub.rs and client.rs files</done>
</task>

</tasks>

<verification>
Rust project compiles with new dependencies. Docker module structure is in place.
</verification>

<success_criteria>
- [ ] Cargo.toml contains bollard, tokio, reqwest, futures
- [ ] Docker module structure exists in src-tauri/src/docker/
- [ ] cargo check passes
</success_criteria>

<output>
After completion, create `.planning/phases/01-docker-hub-integration/01-01-SUMMARY.md`
</output>
